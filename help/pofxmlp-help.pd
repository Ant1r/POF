#N canvas 330 343 362 304 10;
#X declare -lib pof;
#X obj 9 9 cnv 15 200 20 empty empty empty 20 12 0 14 -204786 -66577
0;
#X obj 9 31 cnv 15 200 20 empty empty empty 20 12 0 14 -262130 -66577
0;
#X obj 9 62 cnv 15 200 30 empty empty empty 20 12 0 14 -261682 -66577
0;
#X obj 21 102 cnv 15 100 30 empty empty empty 20 12 0 14 -261682 -66577
0;
#N canvas 33 369 557 399 save/load 0;
#X msg 61 71 load data/food.xml;
#X msg 51 34 load data/simple.xml;
#X msg 143 224 print;
#X obj 240 619 pofutil;
#X msg 240 596 setstring urlbase http://www.w3schools.com/xml;
#X obj 240 571 loadbang;
#X msg 109 167 save /tmp/test.xml;
#X obj 51 333 print save/load;
#X msg 69 104 load @[alias]/foo;
#X text 184 114 "save" currently doesn't...;
#X text 184 102 pofxml "load" handles alias string prefixing.;
#X text 229 60 note : save/load aren't multithreaded.;
#X obj 51 295 pofxmlp testxml;
#X connect 0 0 12 0;
#X connect 1 0 12 0;
#X connect 2 0 12 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 12 0;
#X connect 8 0 12 0;
#X connect 12 0 7 0;
#X restore 30 149 pd save/load;
#N canvas 728 91 448 803 parse 0;
#X msg 23 16 load data/food.xml;
#X obj 75 102 hradio 15 1 0 5 empty empty empty 0 -8 0 10 -262144 -1
-1 1;
#X obj 75 166 hradio 15 1 0 5 empty empty empty 0 -8 0 10 -262144 -1
-1 2;
#X obj 77 239 hradio 15 1 0 5 empty empty empty 0 -8 0 10 -262144 -1
-1 2;
#X obj 23 733 list length;
#X floatatom 23 756 5 0 0 0 - - -;
#X text 211 515 get the number of elements;
#X text 210 263 get elements as a symbol;
#X text 220 125 get elements as a list;
#X obj 23 653 route get gets;
#X symbolatom 63 696 0 0 0 0 - - -;
#X obj 63 675 symbol;
#X text 212 384 select by attribute;
#X obj 77 319 hradio 15 1 0 5 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X text 214 341 get attribute;
#X msg 36 40 print;
#X msg 75 142 get /breakfast_menu/food[\$1]/name;
#X obj 75 122 + 1;
#X obj 75 185 + 1;
#X obj 77 258 + 1;
#X obj 77 338 + 1;
#X msg 75 205 get /breakfast_menu/food[\$1]/description;
#X msg 77 278 gets /breakfast_menu/food[\$1]/description;
#X obj 23 605 pofxmlp testxml;
#X obj 128 639 print parse;
#X msg 77 358 gets /breakfast_menu/food[\$1] id;
#X msg 78 400 gets /breakfast_menu/food[@id="belwaf"]/name;
#X msg 80 535 getnum /breakfast_menu/*;
#X msg 81 558 getnum /breakfast_menu/food[2]/*;
#X msg 52 66 print //food[2];
#X msg 79 443 gets /breakfast_menu/food id;
#X text 208 425 "gets" can return multiple results:;
#X msg 79 487 gets /breakfast_menu/food[calories<=\$1] id;
#X msg 79 468 800;
#X msg 112 468 900;
#X msg 80 579 getnum /breakfast_menu/food[calories<=900];
#X text 154 66 print node;
#X connect 0 0 23 0;
#X connect 1 0 17 0;
#X connect 2 0 18 0;
#X connect 3 0 19 0;
#X connect 4 0 5 0;
#X connect 9 0 4 0;
#X connect 9 1 11 0;
#X connect 11 0 10 0;
#X connect 13 0 20 0;
#X connect 15 0 23 0;
#X connect 16 0 23 0;
#X connect 17 0 16 0;
#X connect 18 0 21 0;
#X connect 19 0 22 0;
#X connect 20 0 25 0;
#X connect 21 0 23 0;
#X connect 22 0 23 0;
#X connect 23 0 9 0;
#X connect 23 0 24 0;
#X connect 25 0 23 0;
#X connect 26 0 23 0;
#X connect 27 0 23 0;
#X connect 28 0 23 0;
#X connect 29 0 23 0;
#X connect 30 0 23 0;
#X connect 32 0 23 0;
#X connect 33 0 32 0;
#X connect 34 0 32 0;
#X connect 35 0 23 0;
#X restore 31 177 pd parse;
#N canvas 974 349 668 490 edit 0;
#X msg 35 22 print;
#X msg 59 58 clear;
#X msg 69 81 clear MyRootName;
#X text 263 148 add defined child;
#X text 267 217 (re)define child;
#X text 252 116 add empty child;
#X text 253 271 remove child;
#X text 265 377 remove attribute;
#X obj 35 443 pofxmlp testxml;
#X msg 81 121 add /root object;
#X msg 87 147 add /root/object type Chair;
#X msg 90 171 add /root/object color Blue;
#X msg 95 232 set /root/object type Glass;
#X msg 101 317 setattr /root/object id 1;
#X msg 101 338 setattr /root/object id obj1;
#X text 278 325 set attribute;
#X msg 102 377 removeattr /root/object id;
#X msg 96 205 set /root/object/type Table;
#X msg 97 270 remove /root/object type;
#X obj 427 317 pofxmlp testxml;
#X msg 404 267 gets /root/object id;
#X msg 426 293 gets /root/object/type;
#X symbolatom 427 368 10 0 0 0 - - -;
#X msg 427 338 symbol \$1;
#X msg 102 410 rename /root/object furniture;
#X connect 0 0 8 0;
#X connect 1 0 8 0;
#X connect 2 0 8 0;
#X connect 9 0 8 0;
#X connect 10 0 8 0;
#X connect 11 0 8 0;
#X connect 12 0 8 0;
#X connect 13 0 8 0;
#X connect 14 0 8 0;
#X connect 16 0 8 0;
#X connect 17 0 8 0;
#X connect 18 0 8 0;
#X connect 19 0 23 0;
#X connect 20 0 19 0;
#X connect 21 0 19 0;
#X connect 23 0 22 0;
#X connect 24 0 8 0;
#X restore 31 207 pd edit;
#X text 129 108 Argument : reference_name;
#X obj 220 21 declare -lib pof;
#X text 11 8 Pof: Pd OpenFrameworks externals;
#X obj 24 110 pofxmlp testxml;
#X text 14 62 pofxmlp : xml file utilities \, based on pugixml library
, f 30;
#X text 38 30 (c) Antoine Rousseau 2019;
#N canvas 706 376 655 398 relative-xpath 0;
#X msg 76 48 load data/food.xml;
#X msg 76 71 print;
#X msg 91 97 setto /breakfast_menu/food[2];
#X msg 77 197 print .;
#X msg 76 124 gets description;
#X msg 76 150 add . stock 5;
#X msg 78 221 get stock;
#X msg 76 174 removeall stock \, add . stock 4;
#X obj 42 261 pofxmlp testxml;
#X obj 42 282 print relative;
#X text 27 14 Using relative path is shorter and (should be) faster:
;
#X msg 190 302 print /breakfast_menu/food[@id="hombr];
#X msg 162 225 add_before //food[@id="hombr"] food added before hombr
;
#X msg 162 247 add_after //food[@id="hombr"] food added after hombr
;
#X msg 304 67 setto /breakfast_menu;
#X msg 304 91 setto /breakfast_menu/food[2];
#X msg 305 115 setto preceding-sibling::food[1];
#X msg 305 135 setto following-sibling::food[1];
#X msg 388 174 getpath;
#X msg 306 155 gets . id;
#X connect 0 0 8 0;
#X connect 1 0 8 0;
#X connect 2 0 8 0;
#X connect 3 0 8 0;
#X connect 4 0 8 0;
#X connect 5 0 8 0;
#X connect 6 0 8 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 11 0 8 0;
#X connect 12 0 8 0;
#X connect 13 0 8 0;
#X connect 14 0 8 0;
#X connect 15 0 8 0;
#X connect 16 0 8 0;
#X connect 17 0 8 0;
#X connect 18 0 8 0;
#X connect 19 0 8 0;
#X restore 32 236 pd relative-xpath;
#N canvas 369 626 363 223 change-reference 0;
#X msg 53 16 setxml testxml2;
#X msg 61 37 setxml testxml;
#X msg 78 76 print;
#X text 154 25 switch between references;
#X msg 55 158 load data/simple.xml;
#X obj 53 104 pofxmlp testxml;
#X obj 55 179 pofxmlp testxml2;
#X msg 132 76 copy testxml2;
#X connect 0 0 5 0;
#X connect 1 0 5 0;
#X connect 2 0 5 0;
#X connect 4 0 6 0;
#X connect 7 0 5 0;
#X restore 32 268 pd change-reference;
